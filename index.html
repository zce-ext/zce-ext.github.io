<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Version 0.11">
<title>RISC-V Zce code-size reduction extension proposal v0.11</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left data-line-1">
<div id="header">
<h1>RISC-V Zce code-size reduction extension proposal v0.11</h1>
<div class="details">
<span id="author" class="author">Version 0.11</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_spec_update_history">1. Spec update history</a></li>
<li><a href="#_issues">2. Issues</a></li>
<li><a href="#_zce_proposal">3. Zce proposal</a></li>
<li><a href="#_c_extension_subsets">4. C-extension subsets</a></li>
<li><a href="#_allocation_of_new_16_bit_encodings">5. Allocation of new 16-bit encodings</a>
<ul class="sectlevel2">
<li><a href="#_spare_16_bit_encodings">5.1. Spare 16-bit encodings</a></li>
</ul>
</li>
<li><a href="#_zces_definition">6. <code>Zces</code> definition</a>
<ul class="sectlevel2">
<li><a href="#_pushpop">6.1. PUSH/POP</a>
<ul class="sectlevel3">
<li><a href="#pushpop16">6.1.1. C.PUSH, C.POP, C.POPRET</a></li>
<li><a href="#pushpop32">6.1.2. PUSH, POP, POPRET, PUSH.[FDQ], POP.[FDQ], POPRET.[FDQ]</a></li>
</ul>
</li>
<li><a href="#_c_mva01s07_c_mva23s07">6.2. C.MVA01S07, C.MVA23S07</a></li>
<li><a href="#_c_mvp">6.3. C.MVP</a></li>
</ul>
</li>
<li><a href="#_zcec_definition">7. <code>Zcec</code> definition</a>
<ul class="sectlevel2">
<li><a href="#_table_jump">7.1. Table Jump</a>
<ul class="sectlevel3">
<li><a href="#tablejump16">7.1.1. C.TBLJAL</a></li>
<li><a href="#tablejump32">7.1.2. TBLJAL</a></li>
</ul>
</li>
<li><a href="#_c_szext_bh_c_lsbnot_c_mul">7.2. C.[SZ]EXT.[BH], C.LSBNOT, C.MUL</a></li>
<li><a href="#_c_not_c_neg">7.3. C.NOT, C.NEG</a></li>
<li><a href="#_c_lbusp_c_lhusp_c_sbsp_c_shsp">7.4. C.LBUSP, C.LHUSP, C.SBSP, C.SHSP</a></li>
</ul>
</li>
<li><a href="#_zced_definition">8. <code>Zced</code> definition</a>
<ul class="sectlevel2">
<li><a href="#_decrement_and_branch">8.1. Decrement and branch</a>
<ul class="sectlevel3">
<li><a href="#decbr16">8.1.1. C.DECBGEZ</a></li>
<li><a href="#_decbgez">8.1.2. DECBGEZ</a></li>
</ul>
</li>
<li><a href="#_c_lbu_c_lhu_c_sb_c_sh">8.2. C.LBU, C.LHU, C.SB, C.SH</a></li>
<li><a href="#_muli_muliadd_addiadd">8.3. MULI, MULIADD, ADDIADD</a></li>
<li><a href="#_beqi_bnei">8.4. BEQI, BNEI</a></li>
<li><a href="#_lwgp_swgp">8.5. LWGP, SWGP</a></li>
</ul>
</li>
<li><a href="#_b_extension_reuse">9. B-extension reuse</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph data-line-13">
<p>This document describes the <code>Zce</code> extension to reduce code-size.</p>
</div>
</div>
</div>
<div class="sect1 data-line-15">
<h2 id="_spec_update_history">1. Spec update history</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch data-line-17">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">change</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add C.SEXT.W, C.ZEXT.W, MULI, MULIADDW, ADDIADDW, and change the C.[SZ]EXT.* encodings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rename flen PUSH/POP encoding field to fdq to avoid confusion with FLEN.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1 data-line-23">
<h2 id="_issues">2. Issues</h2>
<div class="sectionbody">
<div class="ulist data-line-25">
<ul>
<li class="data-line-25">
<p>there are probably too many instructions listed, so we need to reduce the list</p>
<div class="ulist data-line-26">
<ul>
<li class="data-line-26">
<p>we don&#8217;t need <code>both c.mvp</code> and also <code>c.mvas*</code></p>
</li>
</ul>
</div>
</li>
<li class="data-line-27">
<p>we need to check the sizes of the immediate fields, so we don&#8217;t waste encoding space</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1 data-line-29">
<h2 id="_zce_proposal">3. Zce proposal</h2>
<div class="sectionbody">
<div class="paragraph data-line-31">
<p>Zce is split into subsets. It includes</p>
</div>
<div class="ulist data-line-33">
<ul>
<li class="data-line-33">
<p><code>Zces</code> sequenced instructions</p>
<div class="ulist data-line-34">
<ul>
<li class="data-line-34">
<p>16-bit: <code>C.POP, C.POPRET, C.PUSH, C.MVA01S07, C.MVA23S07, C.MVP</code></p>
</li>
<li class="data-line-35">
<p>32-bit: <code>POP, POPRET, PUSH, POP.[FDQ], POPRET.[FDQ], PUSH.[FDQ]</code></p>
</li>
</ul>
</div>
</li>
<li class="data-line-36">
<p><code>Zced</code> instructions which conflict with the D-extension</p>
<div class="ulist data-line-37">
<ul>
<li class="data-line-37">
<p>16-bit: <code>C.LBU, C.LHU, C.SB, C.SH, C.DECBGEZ</code></p>
</li>
<li class="data-line-38">
<p>32-bit: <code>DECBGEZ, LWGP, SWGP, BEQI, BNEI</code></p>
</li>
</ul>
</div>
</li>
<li class="data-line-39">
<p><code>Zcec</code> common instructions</p>
<div class="ulist data-line-40">
<ul>
<li class="data-line-40">
<p>all others</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph data-line-42">
<p>If <code>Zce</code> is specified, and <code>D</code> is <em>not</em> specified then <code>Zces_Zced_Zcec</code> are configured.</p>
</div>
<div class="paragraph data-line-44">
<p>If <code>Zce</code> is specified, and <code>D</code> <em>is</em>  specified then <code>Zces_Zcec</code> are configured.</p>
</div>
<div class="paragraph data-line-46">
<p>If <code>Zces</code> is not required then <code>Zcec</code> and optionally <code>Zced</code> must be specified.</p>
</div>
</div>
</div>
<div class="sect1 data-line-48">
<h2 id="_c_extension_subsets">4. C-extension subsets</h2>
<div class="sectionbody">
<div class="paragraph data-line-50">
<p>The C-extension already reuses encodings between different architectures. <code>Zce</code> extends this concept further. <a href="#zce_quad0">Table 1</a>, <a href="#zce_quad1">Table 2</a> and <a href="#zce_quad2">Table 3</a> show how each encoding is allocated for different architectures or for different combinations of extensions.</p>
</div>
<div class="paragraph data-line-52">
<p>For example:</p>
</div>
<div class="ulist data-line-54">
<ul>
<li class="data-line-54">
<p><code>C.FSD</code>, <code>C.SQ</code>, and <code>{C.LBU, C.SB}</code> share opcodes, so for different configurations the encodings represent:</p>
<div class="ulist data-line-55">
<ul>
<li class="data-line-55">
<p><code>C.FSD</code> for <code>RV32CD/RV64CD</code></p>
</li>
<li class="data-line-56">
<p><code>C.SQ</code>  for <code>RV128C</code></p>
</li>
<li class="data-line-57">
<p><code>{C.LBU, C.SB}</code> for <code>RV32C_Zce, RV64C_Zce</code></p>
</li>
<li class="data-line-58">
<p>illegal encoding for <code>RV32C, RV64C</code>, as neither <code>D</code> nor <code>Zce</code> was specified</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph data-line-60">
<p>The shared encoding column in the tables assigns an arbitrary number to show which encodings are grouped together (I can&#8217;t find a better way of highlighting groups of cells in the table in adoc format). <code>Zce</code> instructions are in <strong>bold</strong>.</p>
</div>
<table id="zce_quad0" class="tableblock frame-all grid-all stretch data-line-65">
<caption class="title">Table 1. C-extension quadrant 0</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enc[15:13]</th>
<th class="tableblock halign-left valign-top">Instruction</th>
<th class="tableblock halign-left valign-top">shared encoding group</th>
<th class="tableblock halign-left valign-top">Ext Subset</th>
<th class="tableblock halign-left valign-top">RV32</th>
<th class="tableblock halign-left valign-top">RV64</th>
<th class="tableblock halign-left valign-top">RV128</th>
<th class="tableblock halign-left valign-top">Extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ADDI4SPN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.FLD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LQ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcq</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.DECBGEZ</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zced</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">010</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LW</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.FLW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+F</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc64/Zc128</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.POP</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zces</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.POPRET</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zces</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.PUSH</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zces</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.TBLJAL</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.SHSP</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.SBSP</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.LHUSP</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.LBUSP</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.SEXT.B</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.SEXT.H</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.SEXT.W</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.ZEXT.B</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.ZEXT.H</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.ZEXT.W</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.LSBNOT</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.MUL</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.MVA01S07</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.MVA23S07</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.MVP</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zcec</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.FSD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SQ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcq</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.SB</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zced</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.LBU</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zced</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">110</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SW</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.FSW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+F</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc64/Zc128</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
</tbody>
</table>
<table id="zce_quad1" class="tableblock frame-all grid-all stretch data-line-113">
<caption class="title">Table 2. C-extension quadrant 1</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enc[15:13]</th>
<th class="tableblock halign-left valign-top">Instruction</th>
<th class="tableblock halign-left valign-top">shared encoding group</th>
<th class="tableblock halign-left valign-top">Ext Subset</th>
<th class="tableblock halign-left valign-top">RV32</th>
<th class="tableblock halign-left valign-top">RV64</th>
<th class="tableblock halign-left valign-top">RV128</th>
<th class="tableblock halign-left valign-top">Extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.NOP</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ADDI</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.JAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ADDIW (rd=0:RSV)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc64/Zc128</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">010</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LI (rd=0:HINT)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ADDI16SP (nzimm=0:RSV)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LUI (nzimm=0: RSV; rd=0:HINT)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SRLI (RV32:NSE, nzuimm[5]=1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc32/Zc64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SRLI64 (RV32:HINT)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc128</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SRAI (RV32:NSE, nzuimm[5]=1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc32/Zc64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SRAI64 (RV32/64:HINT)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc128</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ANDI</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SUB</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.XOR</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.OR</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.AND</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SUBW (RV32:RSV)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc64/Zc128</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ADDW (RV32:RSV)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc64/Zc128</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.J</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">110</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.BEQZ</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.BNEZ</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
</tbody>
</table>
<table id="zce_quad2" class="tableblock frame-all grid-all stretch data-line-154">
<caption class="title">Table 3. C-extension quadrant 2</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enc[15:13]</th>
<th class="tableblock halign-left valign-top">Instruction</th>
<th class="tableblock halign-left valign-top">shared encoding group</th>
<th class="tableblock halign-left valign-top">Ext Subset</th>
<th class="tableblock halign-left valign-top">RV32</th>
<th class="tableblock halign-left valign-top">RV64</th>
<th class="tableblock halign-left valign-top">RV128</th>
<th class="tableblock halign-left valign-top">Extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SLLI (rd=0:HINT; RV32 &amp;&amp; nzuimm[5]=1:NSE)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc32/Zc64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SLLI64 (RV32/64 or rd=0:HINT)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc128</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.FLDSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LQSP (rd=0:RSV)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc128</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>unallocated</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zced</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">010</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LWSP (rd=0:RSV)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.FLWSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+F</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LDSP (rd=0:HINT)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc64/Zc128</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.JR     (rd=0:RSV)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MV   (rd=0:HINT)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.EBREAK</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.JALR</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ADD (rd=0:HINT)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.FSDSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SQSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc128</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.SH</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zced</strong>*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>C.LHU</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Zced</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+<strong>Zce</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">110</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SWSP</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.FSWSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zcf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C+F</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SDSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zc128</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✓</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1 data-line-179">
<h2 id="_allocation_of_new_16_bit_encodings">5. Allocation of new 16-bit encodings</h2>
<div class="sectionbody">
<div class="paragraph data-line-181">
<p>This section gives a short-hand lookup of exactly where the new encodings are allocated to make it easier to review the encoding space. the first column is the group number from <a href="#zce_quad0">Table 1</a>, <a href="#zce_quad1">Table 2</a> and <a href="#zce_quad2">Table 3</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch data-line-183">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Group</th>
<th class="tableblock halign-left valign-top">[15:13]</th>
<th class="tableblock halign-left valign-top">[12:10]</th>
<th class="tableblock halign-left valign-top">[1:0]</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.POP, C.POPRET, C.PUSH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.[SZ]EXT.[BH], C.LSBNOT, C.MUL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">01x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.L[BH]USP, C.S[BH]SP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MVA01S07, C.MVA23S07</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MVP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.TBLJAL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xxx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.DECBGEZ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1xx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LBU</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.NOT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.NEG</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0xx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1xx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LHU</p></td>
</tr>
</tbody>
</table>
<div class="sect2 data-line-207">
<h3 id="_spare_16_bit_encodings">5.1. Spare 16-bit encodings</h3>
<div class="paragraph data-line-209">
<p>Some spare encodings are noted in the tables below. The remaining unallocated space is listed here:</p>
</div>
<table class="tableblock frame-all grid-all stretch data-line-214">
<caption class="title">Table 4. spare 16-bit encodings</caption>
<colgroup>
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8832%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14</th>
<th class="tableblock halign-left valign-top">13</th>
<th class="tableblock halign-left valign-top">12</th>
<th class="tableblock halign-left valign-top">11</th>
<th class="tableblock halign-left valign-top">10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6</th>
<th class="tableblock halign-left valign-top">5</th>
<th class="tableblock halign-left valign-top">4</th>
<th class="tableblock halign-left valign-top">3</th>
<th class="tableblock halign-left valign-top">2</th>
<th class="tableblock halign-left valign-top">1</th>
<th class="tableblock halign-left valign-top">0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">xxxx</p></td>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="17"><p class="tableblock">These three are RV32 only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="10"><p class="tableblock">xxxxx</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="9"><p class="tableblock">xxxx</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top" colspan="8"><p class="tableblock">xxxx</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="17"><p class="tableblock">This conflicts with the D-extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top" colspan="11"><p class="tableblock">xxxx</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reserved</strong></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1 data-line-225">
<h2 id="_zces_definition">6. <code>Zces</code> definition</h2>
<div class="sectionbody">
<div class="paragraph data-line-227">
<p><code>Zces</code> is optional as cores may not want to build the sequencer to issue the instructions.</p>
</div>
<div class="sect2 data-line-229">
<h3 id="_pushpop">6.1. PUSH/POP</h3>
<div class="sect3 data-line-231">
<h4 id="pushpop16">6.1.1. C.PUSH, C.POP, C.POPRET</h4>
<div class="paragraph data-line-233">
<p>The specification is <a href="https://github.com/riscv/riscv-code-size-reduction/blob/master/ISA%20proposals/Huawei/riscv_push_pop_extension_RV32_RV64_UABI.adoc">here</a>.</p>
</div>
<div class="admonitionblock note data-line-237">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
  The reserved 16-bit encodings could be used for EABI versions in the future.
</td>
</tr>
</table>
</div>
<table id="proposed-16bit-encodings-1" class="tableblock frame-all grid-all stretch data-line-242">
<caption class="title">Table 5. PUSH/POP 16-bit encodings</caption>
<colgroup>
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8832%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14</th>
<th class="tableblock halign-left valign-top">13</th>
<th class="tableblock halign-left valign-top">12</th>
<th class="tableblock halign-left valign-top">11</th>
<th class="tableblock halign-left valign-top">10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6</th>
<th class="tableblock halign-left valign-top">5</th>
<th class="tableblock halign-left valign-top">4</th>
<th class="tableblock halign-left valign-top">3</th>
<th class="tableblock halign-left valign-top">2</th>
<th class="tableblock halign-left valign-top">1</th>
<th class="tableblock halign-left valign-top">0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="17"><p class="tableblock"><code>C.POP</code> and reserved values of rcount/spimm to save encoding space</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rcount[1:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">spimm[0]</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.POP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">xx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">xxx</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">xxx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">!=00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="17"><p class="tableblock"><code>C.POPRET</code> and reserved values of rcount/spimm to save encoding space</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rcount[2:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ret0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">spimm[2:0]</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.POPRET</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">xxx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">xx</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="17"><p class="tableblock"><code>C.PUSH</code> and reserved values of rcount/spimm to save encoding space</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rcount[2:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">spimm[2:0]</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.PUSH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">xx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">xx</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reserved</strong></p></td>
</tr>
</tbody>
</table>
<div class="ulist data-line-256">
<ul>
<li class="data-line-256">
<p>For <code>C.POPRET</code>, <code>ret_val[0]=ret0</code> as specified in the encoding, <code>ret_val[1]=0</code>.</p>
</li>
<li class="data-line-257">
<p>For <code>C.POP</code> <code>ret_val[1:0]=0</code>.</p>
</li>
<li class="data-line-258">
<p>Some encodings remain <strong>reserved</strong> for the time being so we can add them later if they can be justified</p>
<div class="ulist data-line-259">
<ul>
<li class="data-line-259">
<p>For <code>C.POP</code>, <code>rcount[2]=1</code> is reserved</p>
</li>
<li class="data-line-260">
<p>For <code>C.POP</code>, <code>spimm &gt; 1</code> is reserved</p>
</li>
<li class="data-line-261">
<p>For <code>C.PUSH/C.POPRET</code>, <code>rcount[2]=1 &amp;&amp; spimm[2]=1</code> is reserved</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<table id="pushpop_semantics" class="tableblock frame-all grid-all stretch data-line-266">
<caption class="title">Table 6. PUSH/POP semantics</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.POP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/riscv/riscv-code-size-reduction/blob/master/ISA%20proposals/Huawei/riscv_push_pop_extension_RV32_RV64_UABI.adoc">POP registers</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.POPRET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/riscv/riscv-code-size-reduction/blob/master/ISA%20proposals/Huawei/riscv_push_pop_extension_RV32_RV64_UABI.adoc">POP registers and return</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.PUSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/riscv/riscv-code-size-reduction/blob/master/ISA%20proposals/Huawei/riscv_push_pop_extension_RV32_RV64_UABI.adoc">PUSH registers</a></p></td>
</tr>
</tbody>
</table>
<table id="pushpop-32bit" class="tableblock frame-all grid-all stretch data-line-276">
<caption class="title">Table 7. PUSH/POP assembly syntax</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">assembly syntax</th>
<th class="tableblock halign-left valign-top">requirements for 16-bit encoding</th>
<th class="tableblock halign-left valign-top">32-bit extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.POP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pop    &lt;args&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;args&gt; map to a 16-bit encoding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zce</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.POPRET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">popret &lt;args&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;args&gt; map to a 16-bit encoding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zce</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.PUSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">push   &lt;args&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;args&gt; map to a 16-bit encoding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zce</p></td>
</tr>
</tbody>
</table>
<div class="paragraph data-line-283">
<p>Assembly examples are <a href="https://github.com/riscv/riscv-code-size-reduction/blob/master/ISA%20proposals/Huawei/riscv_push_pop_extension_RV32_RV64_UABI.adoc#assembly-examples">here</a>.</p>
</div>
</div>
<div class="sect3 data-line-286">
<h4 id="pushpop32">6.1.2. PUSH, POP, POPRET, PUSH.[FDQ], POP.[FDQ], POPRET.[FDQ]</h4>
<div class="admonitionblock note data-line-290">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
  These encodings are in custom=0, as no official encodings have been allocated yet
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch data-line-295">
<caption class="title">Table 8. push/pop 32-bit encodings</caption>
<colgroup>
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5565%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">31</th>
<th class="tableblock halign-left valign-top">30:29</th>
<th class="tableblock halign-left valign-top">28</th>
<th class="tableblock halign-left valign-top">27</th>
<th class="tableblock halign-left valign-top">26:25</th>
<th class="tableblock halign-left valign-top">24</th>
<th class="tableblock halign-left valign-top">23</th>
<th class="tableblock halign-left valign-top">22:20</th>
<th class="tableblock halign-left valign-top">19:18</th>
<th class="tableblock halign-left valign-top">17:16</th>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14:12</th>
<th class="tableblock halign-left valign-top">11:10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6 : 0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="18"><p class="tableblock"><code>PUSH</code> encodings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">mv</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rcount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">spimm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0001011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PUSH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">01</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">frcount</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rcount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">spimm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0001011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PUSH.F</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">frcount</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rcount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">spimm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0001011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PUSH.D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">frcount</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rcount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">spimm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0001011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PUSH.Q</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="18"><p class="tableblock"><code>POP</code> encodings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">ret_val</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rcount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">010</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">spimm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0001011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">01</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">frcount</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rcount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">010</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">spimm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0001011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POP.F</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">frcount</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rcount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">010</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">spimm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0001011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POP.D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">frcount</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rcount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">010</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">spimm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0001011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POP.Q</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="18"><p class="tableblock"><code>POPRET</code> encodings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">ret_val</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rcount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">spimm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0001011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POPRET</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">01</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">frcount</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rcount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">spimm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0001011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POPRET.F</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">frcount</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rcount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">spimm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0001011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POPRET.D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">frcount</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rcount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">spimm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0001011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POPRET.Q</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note data-line-315">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
  bits [26:25] are the <code>fdq</code> field
  <code>ra=1</code> for all <code>popret</code> encodings, it is not specified in the encoding
</td>
</tr>
</table>
</div>
<div class="paragraph data-line-318">
<p>The specification is <a href="https://github.com/riscv/riscv-code-size-reduction/blob/master/ISA%20proposals/Huawei/riscv_push_pop_extension_RV32_RV64_UABI.adoc">here</a> and the 16-bit encoding is in <a href="#pushpop16">Section 6.1.1</a>.</p>
</div>
</div>
</div>
<div class="sect2 data-line-321">
<h3 id="_c_mva01s07_c_mva23s07">6.2. C.MVA01S07, C.MVA23S07</h3>
<div class="paragraph data-line-323">
<p>Register moves are the most common in GCC output in both the benchmark suite and the Debian distro. These two instructions combine two very common pairs of moves into single 16-bit encodings:</p>
</div>
<div class="ulist data-line-325">
<ul>
<li class="data-line-325">
<p>move from two <code>s[0-7]</code> registers into <code>a0</code> and <code>a1</code>.</p>
</li>
<li class="data-line-326">
<p>move from two <code>s[0-7]</code> registers into <code>a2</code> and <code>a3</code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note data-line-330">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
  The syntax takes ABI names not <code>x</code> register names, so it is unusual. However this allows much more frequent usage without increasing the encoding space requirement.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note data-line-334">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
  Currently there are no 32-bit equivalent instructions, is it enough to expand to <strong>two</strong> 32-bit instructions?
</td>
</tr>
</table>
</div>
<div class="admonitionblock note data-line-338">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
  These are optional (<code>Zces</code>) as they require 2 register file write ports, or are sequenced.
</td>
</tr>
</table>
</div>
<table id="proposed-16bit-encodings-4" class="tableblock frame-all grid-all stretch data-line-343">
<caption class="title">Table 9. <code>C.MV01S07, C.MV23S07</code> 16-bit encoding</caption>
<colgroup>
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8832%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14</th>
<th class="tableblock halign-left valign-top">13</th>
<th class="tableblock halign-left valign-top">12</th>
<th class="tableblock halign-left valign-top">11</th>
<th class="tableblock halign-left valign-top">10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6</th>
<th class="tableblock halign-left valign-top">5</th>
<th class="tableblock halign-left valign-top">4</th>
<th class="tableblock halign-left valign-top">3</th>
<th class="tableblock halign-left valign-top">2</th>
<th class="tableblock halign-left valign-top">1</th>
<th class="tableblock halign-left valign-top">0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">000</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">sreg1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">sreg2</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MVA01S07</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">sreg1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">sreg2</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MVA23S07</p></td>
</tr>
</tbody>
</table>
<table id="mvs07_semantics" class="tableblock frame-all grid-all stretch data-line-352">
<caption class="title">Table 10. <code>C.MV01S07, C.MV23S07</code> semantics</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MVA01S07 sreg1, sreg2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mv a0, s[sreg1];  mv a1, s[sreg2]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MVA23S07 sreg1, sreg2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mv a2, s[sreg1];  mv a3, s[sreg2]</p></td>
</tr>
</tbody>
</table>
<table id="mvs07_syntax" class="tableblock frame-all grid-all stretch data-line-361">
<caption class="title">Table 11. <code>C.MV01S07, C.MV23S07</code> assembly syntax</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">assembly syntax</th>
<th class="tableblock halign-left valign-top">requirements for 16-bit encoding</th>
<th class="tableblock halign-left valign-top">32-bit extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MVAS01S07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mv(a0,a1),(sreg1,sreg2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MVAS23S07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mv(a2,a3),(sreg1,sreg2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
</tr>
</tbody>
</table>
<div class="paragraph data-line-367">
<p>Assembly examples.</p>
</div>
<div class="listingblock data-line-369">
<div class="content">
<pre class="highlight"><code class="language-sourceCode" data-lang="sourceCode"># c.mva01s: sreg1 = 0; sreg2 = 0;
mv (a0, a1), (s0, s0) ; # mv a0, s0; mv a1, s0

# c.mva23s: sreg1 = 1; sreg2 = 3;
mv (a2, a3), (s1, s3) ; # mv a2, s1; mv a3, s3</code></pre>
</div>
</div>
</div>
<div class="sect2 data-line-378">
<h3 id="_c_mvp">6.3. C.MVP</h3>
<div class="paragraph data-line-380">
<p>The generic move uses standard x register numbers, and so it more standard than <code>C.MVA*S07</code>, however it takes a lot more encoding space. Both register pairs must be even/odd pairs (<code>rdp[0]=0, rsp[0]=0</code>) to reduce the encoding space requirement.</p>
</div>
<div class="admonitionblock note data-line-384">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
  Currently there are no 32-bit equivalent instructions, is it enough to expand to <strong>two</strong> 32-bit instructions?
</td>
</tr>
</table>
</div>
<div class="admonitionblock note data-line-388">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
  These are optional as they require 2 register file write ports, or are sequenced.
</td>
</tr>
</table>
</div>
<table id="mvp-encoding" class="tableblock frame-all grid-all stretch data-line-393">
<caption class="title">Table 12. generic double move 16-bit encoding</caption>
<colgroup>
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8832%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14</th>
<th class="tableblock halign-left valign-top">13</th>
<th class="tableblock halign-left valign-top">12</th>
<th class="tableblock halign-left valign-top">11</th>
<th class="tableblock halign-left valign-top">10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6</th>
<th class="tableblock halign-left valign-top">5</th>
<th class="tableblock halign-left valign-top">4</th>
<th class="tableblock halign-left valign-top">3</th>
<th class="tableblock halign-left valign-top">2</th>
<th class="tableblock halign-left valign-top">1</th>
<th class="tableblock halign-left valign-top">0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">rdp[4:1]</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">rsp[4:1]</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MVP</p></td>
</tr>
</tbody>
</table>
<table id="mvp-semantics" class="tableblock frame-all grid-all stretch data-line-401">
<caption class="title">Table 13. generic double move semantics</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MVP rdp, rsp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mv rdp, rsp;  mv rdp+1, rsp+1</p></td>
</tr>
</tbody>
</table>
<table id="mvp-syntax" class="tableblock frame-all grid-all stretch data-line-409">
<caption class="title">Table 14. <code>C.MV01S07, C.MV23S07</code> assembly syntax</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">assembly syntax</th>
<th class="tableblock halign-left valign-top">requirements for 16-bit encoding</th>
<th class="tableblock halign-left valign-top">32-bit extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MVP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mv(rdp,rsp),(rdp+1,rsp+1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note data-line-416">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
  Currently there are no 32-bit equivalent instructions, is it enough to expand to <strong>two</strong> 32-bit instructions?
</td>
</tr>
</table>
</div>
<div class="paragraph data-line-418">
<p>Assembly examples.</p>
</div>
<div class="listingblock data-line-420">
<div class="content">
<pre class="highlight"><code class="language-sourceCode" data-lang="sourceCode"># c.mvp: sreg1 = 0; sreg2 = 0;
mv (x2, x3), (x18, x19) ; # mv x2, x2; mv x18, x19</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1 data-line-426">
<h2 id="_zcec_definition">7. <code>Zcec</code> definition</h2>
<div class="sectionbody">
<div class="sect2 data-line-428">
<h3 id="_table_jump">7.1. Table Jump</h3>
<div class="sect3 data-line-431">
<h4 id="tablejump16">7.1.1. C.TBLJAL</h4>
<div class="paragraph data-line-433">
<p>The specification is <a href="https://github.com/riscv/riscv-code-size-reduction/blob/master/ISA%20proposals/Huawei/table%20jump.adoc">here</a>.</p>
</div>
<div class="paragraph data-line-435">
<p>The 32-bit encoding is in <a href="#tablejump32">Section 7.1.2</a>.</p>
</div>
<table id="tbljal-16encoding" class="tableblock frame-all grid-all stretch data-line-440">
<caption class="title">Table 15. C.TBLJAL 16-bit encoding</caption>
<colgroup>
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8832%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14</th>
<th class="tableblock halign-left valign-top">13</th>
<th class="tableblock halign-left valign-top">12</th>
<th class="tableblock halign-left valign-top">11</th>
<th class="tableblock halign-left valign-top">10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6</th>
<th class="tableblock halign-left valign-top">5</th>
<th class="tableblock halign-left valign-top">4</th>
<th class="tableblock halign-left valign-top">3</th>
<th class="tableblock halign-left valign-top">2</th>
<th class="tableblock halign-left valign-top">1</th>
<th class="tableblock halign-left valign-top">0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="9"><p class="tableblock">index9</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.TBLJAL</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3 data-line-446">
<h4 id="tablejump32">7.1.2. TBLJAL</h4>
<div class="admonitionblock note data-line-450">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
  This encoding is in custom=0, as no official encoding has been allocated yet
</td>
</tr>
</table>
</div>
<div class="paragraph data-line-452">
<p>The 16-bit encoding is in <a href="#tablejump16">Section 7.1.1</a> and the specification is <a href="https://github.com/riscv/riscv-code-size-reduction/blob/master/ISA%20proposals/Huawei/table%20jump.adoc">here</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch data-line-457">
<caption class="title">Table 16. <strong>temporary</strong> TBLJAL 32-bit encodings</caption>
<colgroup>
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5565%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">31</th>
<th class="tableblock halign-left valign-top">30:29</th>
<th class="tableblock halign-left valign-top">28</th>
<th class="tableblock halign-left valign-top">27</th>
<th class="tableblock halign-left valign-top">26:25</th>
<th class="tableblock halign-left valign-top">24</th>
<th class="tableblock halign-left valign-top">23</th>
<th class="tableblock halign-left valign-top">22:20</th>
<th class="tableblock halign-left valign-top">19:18</th>
<th class="tableblock halign-left valign-top">17:16</th>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14:12</th>
<th class="tableblock halign-left valign-top">11:10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6 : 0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="8"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">index13[12:5]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">000</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">index13[4:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0001011</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2 data-line-462">
<h3 id="_c_szext_bh_c_lsbnot_c_mul">7.2. C.[SZ]EXT.[BH], C.LSBNOT, C.MUL</h3>
<div class="paragraph data-line-464">
<p>These instructions are 16-bit versions of existing 32-bit instructions.</p>
</div>
<table id="dyadic-16encodings" class="tableblock frame-all grid-all stretch data-line-469">
<caption class="title">Table 17. simple instructions 16-bit encodings</caption>
<colgroup>
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8832%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14</th>
<th class="tableblock halign-left valign-top">13</th>
<th class="tableblock halign-left valign-top">12</th>
<th class="tableblock halign-left valign-top">11</th>
<th class="tableblock halign-left valign-top">10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6</th>
<th class="tableblock halign-left valign-top">5</th>
<th class="tableblock halign-left valign-top">4</th>
<th class="tableblock halign-left valign-top">3</th>
<th class="tableblock halign-left valign-top">2</th>
<th class="tableblock halign-left valign-top">1</th>
<th class="tableblock halign-left valign-top">0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="17"><p class="tableblock">Single source/dest with room for 3 more encodings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'/rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ZEXT.B</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'/rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ZEXT.H</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'/rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">010</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ZEXT.W</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'/rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SEXT.B</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'/rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SEXT.H</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'/rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SEXT.W</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'/rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">110</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LSBNOT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">xxx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">111</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reserved</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="17"><p class="tableblock">Dyadic with room for 2 more encodings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'/rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs2'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MUL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">xxx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">xxx</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reserved</strong></p></td>
</tr>
</tbody>
</table>
<table id="monsemantics" class="tableblock frame-all grid-all stretch data-line-488">
<caption class="title">Table 18. simple instruction semantics</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ZEXT.B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = zero_ext(rd'[ 7:0])</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ZEXT.H</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = zero_ext(rd'[15:0])</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SEXT.B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = sign_ext(rd'[ 7:0])</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SEXT.H</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = sign_ext(rd'[15:0])</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LSBNOT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = rd' XOR 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MUL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = rd' * rs2'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">RV64/RV128 only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ZEXT.W</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = zero_ext(rd'[31:0])</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SEXT.W</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = sign_ext(rd'[31:0])</p></td>
</tr>
</tbody>
</table>
<table id="mon-32bit" class="tableblock frame-all grid-all stretch data-line-504">
<caption class="title">Table 19. simple instruction 32-bit equivalent instructions/pseudo-instructions</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">assembly syntax</th>
<th class="tableblock halign-left valign-top">requirements for 16-bit encoding</th>
<th class="tableblock halign-left valign-top">32-bit extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ZEXT.B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zext.b rd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all registers x8-x15, rd==rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I-extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.ZEXT.H</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zext.h rd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all registers x8-x15, rd==rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B-extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SEXT.B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sext.b rd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all registers x8-x15, rd==rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B-extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SEXT.H</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sext.h rd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all registers x8-x15, rd==rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B-extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LSBNOT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lsbnot rd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all registers x8-x15, rd==rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I-extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.MUL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mul    rd, rs1, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all registers x8-x15, rd==rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I-extension</p></td>
</tr>
</tbody>
</table>
<div class="paragraph data-line-514">
<p>Assembly Examples</p>
</div>
<div class="listingblock data-line-517">
<div class="content">
<pre class="highlight"><code class="language-sourceCode" data-lang="sourceCode">zext.b a5;  # a5 = zero_ext(a5[7:0])
zext.h a5;  # a5 = zero_ext(a5[15:0])
sext.b a5;  # a5 = sign_ext(a5[7:0])
sext.h a5;  # a5 = sign_ext(a5[15:0])

lsbnot a5;      # a5 = a5 XOR 1

mul a5, a5, a6; # a5 = a5 * a6

#RV64/RV128 only

zext.w a5; # a5 = zero_ext(a5[31:0])
sext.w a5; # a5 = sign_ext(a5[31:0])</code></pre>
</div>
</div>
</div>
<div class="sect2 data-line-535">
<h3 id="_c_not_c_neg">7.3. C.NOT, C.NEG</h3>
<div class="paragraph data-line-537">
<p>These instructions are 16-bit versions of existing 32-bit instructions.</p>
</div>
<table id="monadic-16encodings" class="tableblock frame-all grid-all stretch data-line-542">
<caption class="title">Table 20. B-extension monadic instructions 16-bit encodings</caption>
<colgroup>
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8832%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14</th>
<th class="tableblock halign-left valign-top">13</th>
<th class="tableblock halign-left valign-top">12</th>
<th class="tableblock halign-left valign-top">11</th>
<th class="tableblock halign-left valign-top">10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6</th>
<th class="tableblock halign-left valign-top">5</th>
<th class="tableblock halign-left valign-top">4</th>
<th class="tableblock halign-left valign-top">3</th>
<th class="tableblock halign-left valign-top">2</th>
<th class="tableblock halign-left valign-top">1</th>
<th class="tableblock halign-left valign-top">0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="17"><p class="tableblock">These are taken from the B-extension draft specification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'/rd'</p></td>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.NOT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'/rd'</p></td>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">00000</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.NEG</p></td>
</tr>
</tbody>
</table>
<table id="monadic-semantics" class="tableblock frame-all grid-all stretch data-line-552">
<caption class="title">Table 21. B-extension monadic semantics</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.NOT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = ~rd' / rd' = rd' XOR -1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.NEG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = -rd'</p></td>
</tr>
</tbody>
</table>
<table id="monadic-32bit" class="tableblock frame-all grid-all stretch data-line-561">
<caption class="title">Table 22. B-extension monadic instructions 32-bit equivalent instructions/pseudo-instructions</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">assembly syntax</th>
<th class="tableblock halign-left valign-top">requirements for 16-bit encoding</th>
<th class="tableblock halign-left valign-top">32-bit extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.NOT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not    rd, rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all registers x8-x15, rd==rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I-extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.NEG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sub    rd, 0, rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all registers x8-x15, rd==rs2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I-extension</p></td>
</tr>
</tbody>
</table>
<div class="paragraph data-line-567">
<p>Assembly Examples</p>
</div>
<div class="listingblock data-line-570">
<div class="content">
<pre class="highlight"><code class="language-sourceCode" data-lang="sourceCode">not a5          # a5 = ~a5 bitwise inversion
neg a5          # a5 = -a5 two's complement inversion</code></pre>
</div>
</div>
</div>
<div class="sect2 data-line-576">
<h3 id="_c_lbusp_c_lhusp_c_sbsp_c_shsp">7.4. C.LBUSP, C.LHUSP, C.SBSP, C.SHSP</h3>
<table id="ldstbhsprel-16encodings" class="tableblock frame-all grid-all stretch data-line-581">
<caption class="title">Table 23. load/store half/byte SP relative 16-bit encodings</caption>
<colgroup>
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8832%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14</th>
<th class="tableblock halign-left valign-top">13</th>
<th class="tableblock halign-left valign-top">12</th>
<th class="tableblock halign-left valign-top">11</th>
<th class="tableblock halign-left valign-top">10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6</th>
<th class="tableblock halign-left valign-top">5</th>
<th class="tableblock halign-left valign-top">4</th>
<th class="tableblock halign-left valign-top">3</th>
<th class="tableblock halign-left valign-top">2</th>
<th class="tableblock halign-left valign-top">1</th>
<th class="tableblock halign-left valign-top">0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="17"><p class="tableblock">source/dest with one other source operand, stack pointer relative</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uimm[3]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rd'</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">uimm[2:0]</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LBUSP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uimm[3]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rd'</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">uimm[2:1，4]</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">01</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LHUSP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uimm[3]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs2'</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">uimm[2:0]</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SBSP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uimm[3]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs2'</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">uimm[2:1，4]</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SHSP</p></td>
</tr>
</tbody>
</table>
<table id="ldstbhsprel-semantics" class="tableblock frame-all grid-all stretch data-line-593">
<caption class="title">Table 24. load/store byte/half SP relative semantics</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LBUSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = zero_ext(Memory[sp + zero_ext(uimm)][ 7:0])</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LHUSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = zero_ext(Memory[sp + zero_ext(uimm)][15:0])</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SBSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Memory[sp + zero_ext(uimm)][ 7:0] = rs2'[ 7:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SHSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Memory[sp + zero_ext(uimm)][15:0] = rs2'[15:0]</p></td>
</tr>
</tbody>
</table>
<table id="ldstbh_sprel_32bit" class="tableblock frame-all grid-all stretch data-line-604">
<caption class="title">Table 25. load/store byte/half SP relative assembly syntax and 32-bit equivalent instructions</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">assembly syntax</th>
<th class="tableblock halign-left valign-top">requirements for 16-bit encoding</th>
<th class="tableblock halign-left valign-top">32-bit extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LBUSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lbu    rd, imm(sp)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd is x8-x15, imm is in range</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I-extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LHUSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lhu    rd, imm(sp)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd is x8-x15, imm is in range</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I-extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SBSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sb     rd, imm(sp)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd is x8-x15, imm is in range</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I-extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SHSP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh     rd, imm(sp)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd is x8-x15, imm is in range</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I-extension</p></td>
</tr>
</tbody>
</table>
<div class="paragraph data-line-612">
<p>Assembly Examples</p>
</div>
<div class="listingblock data-line-615">
<div class="content">
<pre class="highlight"><code class="language-sourceCode" data-lang="sourceCode">lbu a5,20(sp)   # a5 = zero_ext(Memory(sp+20)[ 7:0])
lhu a5,20(sp)   # a5 = zero_ext(Memory(sp+20)[15:0])
sb  a5,20(sp)   # Memory(sp+20)[ 7:0] = a5[ 7:0]
sh  a5,20(sp)   # Memory(sp+20)[15:0] = a5[15:0]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1 data-line-622">
<h2 id="_zced_definition">8. <code>Zced</code> definition</h2>
<div class="sectionbody">
<div class="paragraph data-line-624">
<p>The D-extension takes priority over these encodings.</p>
</div>
<div class="sect2 data-line-626">
<h3 id="_decrement_and_branch">8.1. Decrement and branch</h3>
<div class="sect3 data-line-629">
<h4 id="decbr16">8.1.1. C.DECBGEZ</h4>
<div class="paragraph data-line-631">
<p>This instruction is a combined decrement and branch, used for inferring loops with an optionally scaled loop counter.</p>
</div>
<table id="proposed-16bit-encodings-dec_br" class="tableblock frame-all grid-all stretch data-line-636">
<caption class="title">Table 26. proposed 16-bit encodings for dec-and-branch</caption>
<colgroup>
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8832%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14</th>
<th class="tableblock halign-left valign-top">13</th>
<th class="tableblock halign-left valign-top">12</th>
<th class="tableblock halign-left valign-top">11</th>
<th class="tableblock halign-left valign-top">10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6</th>
<th class="tableblock halign-left valign-top">5</th>
<th class="tableblock halign-left valign-top">4</th>
<th class="tableblock halign-left valign-top">3</th>
<th class="tableblock halign-left valign-top">2</th>
<th class="tableblock halign-left valign-top">1</th>
<th class="tableblock halign-left valign-top">0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">uimm[6:4]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rd'</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">uimm[3:1]</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">scale</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.DECBGEZ</p></td>
</tr>
</tbody>
</table>
<table id="deccmpbrsemantics" class="tableblock frame-all grid-all stretch data-line-644">
<caption class="title">Table 27. decrement, compare and branch semantics</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.DECBGEZ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = rd' - (1&lt;&lt;scale); bge rd', zero, -zero_ext(uimm);</p></td>
</tr>
</tbody>
</table>
<table id="v1" class="tableblock frame-all grid-all stretch 0-32bit data-line-652">
<caption class="title">Table 28. 32-bit equivalent instructions for decrement, compare and branch semantics</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">assembly syntax</th>
<th class="tableblock halign-left valign-top">requirements for 16-bit encoding</th>
<th class="tableblock halign-left valign-top">32-bit extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.DECBGEZ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">decbgez, rd, imm, offset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd is x8-x15, imm is [1248], offset is in range</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zce</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3 data-line-657">
<h4 id="_decbgez">8.1.2. DECBGEZ</h4>
<div class="paragraph data-line-659">
<p>This reuses the encoding for <code>FDIV.D</code>.</p>
</div>
<div class="paragraph data-line-661">
<p>The 16-bit encoding and specification is in <a href="#decbr16">Section 8.1.1</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch data-line-666">
<caption class="title">Table 29. proposed 32-bit encodings for arithmetic instructions</caption>
<colgroup>
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5565%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">31</th>
<th class="tableblock halign-left valign-top">30:29</th>
<th class="tableblock halign-left valign-top">28</th>
<th class="tableblock halign-left valign-top">27</th>
<th class="tableblock halign-left valign-top">26:25</th>
<th class="tableblock halign-left valign-top">24</th>
<th class="tableblock halign-left valign-top">23</th>
<th class="tableblock halign-left valign-top">22:20</th>
<th class="tableblock halign-left valign-top">19:18</th>
<th class="tableblock halign-left valign-top">17:16</th>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14:12</th>
<th class="tableblock halign-left valign-top">11:10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6 : 0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">0001101</p></td>
<td class="tableblock halign-left valign-top" colspan="6"><p class="tableblock">imm[9:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scale</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">rd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1010011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DECBGEZ</p></td>
</tr>
</tbody>
</table>
<table id="decbgezsemantics32" class="tableblock frame-all grid-all stretch data-line-674">
<caption class="title">Table 30. decrement, compare and branch 32-bit semantics</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DECBGEZ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd = rd - (1&lt;&lt;scale); bge rd, zero, sign_ext(imm);</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2 data-line-680">
<h3 id="_c_lbu_c_lhu_c_sb_c_sh">8.2. C.LBU, C.LHU, C.SB, C.SH</h3>
<div class="paragraph data-line-682">
<p>The D-extension takes priority over these encodings</p>
</div>
<table id="ldstbh" class="tableblock frame-all grid-all stretch data-line-687">
<caption class="title">Table 31. proposed 16-bit encodings for load/store byte/half</caption>
<colgroup>
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8823%;">
<col style="width: 5.8832%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14</th>
<th class="tableblock halign-left valign-top">13</th>
<th class="tableblock halign-left valign-top">12</th>
<th class="tableblock halign-left valign-top">11</th>
<th class="tableblock halign-left valign-top">10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6</th>
<th class="tableblock halign-left valign-top">5</th>
<th class="tableblock halign-left valign-top">4</th>
<th class="tableblock halign-left valign-top">3</th>
<th class="tableblock halign-left valign-top">2</th>
<th class="tableblock halign-left valign-top">1</th>
<th class="tableblock halign-left valign-top">0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">uimm[0,3]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">uimm[2:1]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs2'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LBU</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">uimm[4:3]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">uimm[2:1]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs2'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LHU</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">uimm[0,3]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">uimm[2:1]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs2'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">101</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">uimm[4:3]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">uimm[2:1]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs2'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SH</p></td>
</tr>
</tbody>
</table>
<table id="ldstbhsemantics" class="tableblock frame-all grid-all stretch data-line-698">
<caption class="title">Table 32. Load/store byte/half semantics</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LBU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = zero_ext(Memory[rs1'+zero_ext(uimm)][ 7:0])</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LHU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = zero_ext(Memory[rs1'+zero_ext(uimm)][15:0])</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = Memory[rs1'+zero_ext(uimm)][ 7:0] = rs2'[ 7:0]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = Memory[rs1'+zero_ext(uimm)][15:0] = rs2'[15:0]</p></td>
</tr>
</tbody>
</table>
<table id="ldstbh-32bit" class="tableblock frame-all grid-all stretch data-line-709">
<caption class="title">Table 33. Load/store byte-half 32-bit equivalent instructions with a direct equivalent</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">assembly syntax</th>
<th class="tableblock halign-left valign-top">requirements for 16-bit encoding</th>
<th class="tableblock halign-left valign-top">32-bit extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LBU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lbu    rd, imm(rs1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all regs x8-x15, imm in range</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I-extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.LHU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lhu    rd, imm(rs1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all regs x8-x15, imm in range</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I-extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sb     rd, imm(rs1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all regs x8-x15, imm in range</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I-extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.SH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh     rd, imm(rs1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all regs x8-x15, imm in range</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I-extension</p></td>
</tr>
</tbody>
</table>
<div class="listingblock data-line-718">
<div class="content">
<pre class="highlight"><code class="language-sourceCode" data-lang="sourceCode">lbu a5,20(a4)   # a5 = zero_ext(Memory(a4+20)[ 7:0])
lhu a5,20(a4)   # a5 = zero_ext(Memory(a4+20)[15:0])
sb  a5,20(a4)   # Memory(a4+20)[ 7:0] = a5[ 7:0]
sh  a5,20(a4)   # Memory(a4+20)[15:0] = a5[15:0]</code></pre>
</div>
</div>
</div>
<div class="sect2 data-line-725">
<h3 id="_muli_muliadd_addiadd">8.3. MULI, MULIADD, ADDIADD</h3>
<div class="paragraph data-line-727">
<p>See <a href="https://github.com/clairexen/riscv-fanfic/blob/master/riscv-rcfmt/riscv-rcfmt.md">Clare&#8217;s proposal from the B-extension</a>.
Also see <a href="https://github.com/riscv/riscv-code-size-reduction/blob/master/existing_extensions/Huawei%20Custom%20Extension/riscv_muladd_extension.rst">this document</a>, which is implemented on silicon.</p>
</div>
<table class="tableblock frame-all grid-all stretch data-line-733">
<caption class="title">Table 34. arithmetic instructions 32-bit encodings</caption>
<colgroup>
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5565%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">31</th>
<th class="tableblock halign-left valign-top">30:29</th>
<th class="tableblock halign-left valign-top">28</th>
<th class="tableblock halign-left valign-top">27</th>
<th class="tableblock halign-left valign-top">26:25</th>
<th class="tableblock halign-left valign-top">24</th>
<th class="tableblock halign-left valign-top">23</th>
<th class="tableblock halign-left valign-top">22:20</th>
<th class="tableblock halign-left valign-top">19:18</th>
<th class="tableblock halign-left valign-top">17:16</th>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14:12</th>
<th class="tableblock halign-left valign-top">11:10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6 : 0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="18"><p class="tableblock"><strong><a href="https://github.com/clairexen/riscv-fanfic/blob/master/riscv-rcfmt/riscv-rcfmt.md">Clare&#8217;s proposal from the B-extension</a></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="8"><p class="tableblock">imm[11:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rs1'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">11100</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0011011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="8"><p class="tableblock">imm[11:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rs1'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">11100</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0011011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULIW</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="7"><p class="tableblock">imm[8:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs2'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rs1'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">11100</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0011111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULIADD</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="7"><p class="tableblock">imm[8:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs2'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rs1'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">11100</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0011111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULIADDW</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="7"><p class="tableblock">imm[8:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs2'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rs1'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">11101</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0011111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADDIADD</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="7"><p class="tableblock">imm[8:0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rs2'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">rs1'</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">11101</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rd'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0011111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADDIADDW</p></td>
</tr>
</tbody>
</table>
<table id="arithmetic_semantics" class="tableblock frame-all grid-all stretch data-line-747">
<caption class="title">Table 35. Arithmetic semantics</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = rs1' * sign_ext(imm)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULIADD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = rs1' + rs2' * sign_ext(imm)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADDIADD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = rs1' + rs2' + sign_ext(imm)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">RV64/RV128 only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULIW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = sign_ext(rs1'[31:0] * sign_ext(imm))</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULIADDW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = sign_ext(rs1'[31:0] + rs2' * sign_ext(imm))</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADDIADDW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rd' = sign_ext(rs1'[31:0] + rs2' + sign_ext(imm))</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2 data-line-758">
<h3 id="_beqi_bnei">8.4. BEQI, BNEI</h3>
<div class="paragraph data-line-760">
<p>These reuse the encodings for <code>FMADD.D/FMSUB.D</code>.</p>
</div>
<div class="paragraph data-line-762">
<p>The encodings allow a comparison of a register and an immediate value. <code>BEQI</code> in particular is very useful for <em>switch</em> statements.</p>
</div>
<div class="paragraph data-line-764">
<p>Also see <a href="https://github.com/riscv/riscv-code-size-reduction/blob/master/existing_extensions/Huawei%20Custom%20Extension/riscv_condbr_imm_extension.rst">this document</a>, which is implemented on silicon.</p>
</div>
<table class="tableblock frame-all grid-all stretch data-line-769">
<caption class="title">Table 36. proposed 32-bit encodings for <code>Zced</code></caption>
<colgroup>
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5565%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">31</th>
<th class="tableblock halign-left valign-top">30:29</th>
<th class="tableblock halign-left valign-top">28</th>
<th class="tableblock halign-left valign-top">27</th>
<th class="tableblock halign-left valign-top">26:25</th>
<th class="tableblock halign-left valign-top">24</th>
<th class="tableblock halign-left valign-top">23</th>
<th class="tableblock halign-left valign-top">22:20</th>
<th class="tableblock halign-left valign-top">19:18</th>
<th class="tableblock halign-left valign-top">17:16</th>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14:12</th>
<th class="tableblock halign-left valign-top">11:10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6 : 0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="6"><p class="tableblock">cmpimm[7:0]</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">offset[9:6]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">offset[5:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000011</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BEQI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="6"><p class="tableblock">cmpimm[7:0]</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">offset[9:6]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">010</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">offset[5:1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1000111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BNEI</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch data-line-778">
<caption class="title">Table 37. Compare immediate branch semantics</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BEQI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (rs1==sign_ext(cmpimm)) target_pc=PC+offset; else target_pc=PC+4;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BNEI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if (rs1!=sign_ext(cmpimm)) target_pc=PC+offset; else target_pc=PC+4;</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2 data-line-784">
<h3 id="_lwgp_swgp">8.5. LWGP, SWGP</h3>
<div class="paragraph data-line-786">
<p>These reuse the encodings for <code>FLD/FSD</code>.</p>
</div>
<div class="paragraph data-line-788">
<p><code>tp</code> is used as a second <code>gp</code> for systems which do not have thread local storage. <code>LWGP/SWGP</code> allow a larger offset than the normal <code>LW/SW</code> relative to <code>gp</code> or <code>tp</code>. This allows two 18-bit memory spaces to be within reach of a 32-bit load or store word instruction at any PC.</p>
</div>
<div class="paragraph data-line-790">
<p>Also the restrictions in the GCC toolchain mean that the full range of the <code>gp</code> cannot be used for the standard <code>LW/SW</code> instructions in case linker relaxation means that the <code>gp</code> relative addresses moves out of range. This will still be the case with <code>LWGP/SWGP</code> but the range is so much larger that the impact will be minimal. <a href="https://github.com/riscv/riscv-gnu-toolchain/issues/497">see this GitHub issue</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch data-line-795">
<caption class="title">Table 38. proposed 32-bit encodings for <code>Zced</code></caption>
<colgroup>
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5555%;">
<col style="width: 5.5565%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">31</th>
<th class="tableblock halign-left valign-top">30:29</th>
<th class="tableblock halign-left valign-top">28</th>
<th class="tableblock halign-left valign-top">27</th>
<th class="tableblock halign-left valign-top">26:25</th>
<th class="tableblock halign-left valign-top">24</th>
<th class="tableblock halign-left valign-top">23</th>
<th class="tableblock halign-left valign-top">22:20</th>
<th class="tableblock halign-left valign-top">19:18</th>
<th class="tableblock halign-left valign-top">17:16</th>
<th class="tableblock halign-left valign-top">15</th>
<th class="tableblock halign-left valign-top">14:12</th>
<th class="tableblock halign-left valign-top">11:10</th>
<th class="tableblock halign-left valign-top">9</th>
<th class="tableblock halign-left valign-top">8</th>
<th class="tableblock halign-left valign-top">7</th>
<th class="tableblock halign-left valign-top">6 : 0</th>
<th class="tableblock halign-left valign-top">instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="8"><p class="tableblock">imm[11:2, 17:16]</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">imm[15:12]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">rd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0000111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LWGP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">imm[11:5]</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">rs2</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">imm[15:12]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">imm[4:2, 17:16]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0100111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SWGP</p></td>
</tr>
</tbody>
</table>
<table id="lwgp_semantics" class="tableblock frame-all grid-all stretch data-line-804">
<caption class="title">Table 39. Load/store word GP relative semantics</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">instruction</th>
<th class="tableblock halign-left valign-top">definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LWGP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">base=(tp==1)?tp:gp; rd=zero_ext(Memory[base+sign_ext(imm)][31:0]);</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SWGP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">base=(tp==1)?tp:gp; Memory[base+sign_ext(imm)][31:0])=rs2[31:0];</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1 data-line-811">
<h2 id="_b_extension_reuse">9. B-extension reuse</h2>
<div class="sectionbody">
<div class="paragraph data-line-813">
<p>Some instructions will be reused from the B-extension. No work has been done on which instructions to choose yet&#8230;&#8203;..</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-03-01 16:48:51 UTC
</div>
</div>
</body>
</html>